(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[701],{7133:(e,t,a)=>{Promise.resolve().then(a.bind(a,6906))},6906:(e,t,a)=>{"use strict";a.d(t,{default:()=>k});var s=a(5155),r=a(2115),l=a(5007),n=a(745),d=a(2336),i=a(2317),o=a(3463);let c=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,u=o.$;var m=a(9602);let f=((e,t)=>a=>{var s;if((null==t?void 0:t.variants)==null)return u(e,null==a?void 0:a.class,null==a?void 0:a.className);let{variants:r,defaultVariants:l}=t,n=Object.keys(r).map(e=>{let t=null==a?void 0:a[e],s=null==l?void 0:l[e];if(null===t)return null;let n=c(t)||c(s);return r[e][n]}),d=a&&Object.entries(a).reduce((e,t)=>{let[a,s]=t;return void 0===s||(e[a]=s),e},{});return u(e,n,null==t?void 0:null===(s=t.compoundVariants)||void 0===s?void 0:s.reduce((e,t)=>{let{class:a,className:s,...r}=t;return Object.entries(r).every(e=>{let[t,a]=e;return Array.isArray(a)?a.includes({...l,...d}[t]):({...l,...d})[t]===a})?[...e,a,s]:e},[]),null==a?void 0:a.class,null==a?void 0:a.className)})("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),p=r.forwardRef((e,t)=>{let{className:a,variant:r,size:l,asChild:n=!1,...d}=e,o=n?i.DX:"button";return(0,s.jsx)(o,{className:(0,m.cn)(f({variant:r,size:l,className:a})),ref:t,...d})});p.displayName="Button";var h=a(3670),x=a(7401);let v=(0,x.A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),y=(0,x.A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),g=(0,x.A)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);var b=a(9159),j=a.n(b);let N=e=>{let{selectedClass:t,classes:a,onClassChange:r}=e;return(0,s.jsx)("div",{className:"mb-6",children:(0,s.jsxs)(l.Zp,{children:[(0,s.jsx)(l.aR,{children:(0,s.jsx)(l.ZB,{children:"Character Class"})}),(0,s.jsx)(l.Wu,{children:(0,s.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:a.map(e=>(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(h.S,{id:e,checked:t===e,onCheckedChange:()=>r(e)}),(0,s.jsx)("label",{htmlFor:e,className:"text-sm font-medium",children:e})]},e))})})]})})},w=e=>{let{index:t,statType:a,statValue:r,availableStats:l,onStatTypeChange:i,onStatValueChange:o,onRemove:c}=e;return(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)(n.l6,{value:a,onValueChange:e=>i(t,e),children:[(0,s.jsx)(n.bq,{className:"w-48",children:(0,s.jsx)(n.yv,{placeholder:"Select stat"})}),(0,s.jsx)(n.gC,{children:l.map(e=>(0,s.jsx)(n.eb,{value:e,children:e},e))})]}),(0,s.jsx)(d.p,{type:"number",value:r,onChange:e=>o(t,e.target.value),className:"w-24",placeholder:"Value"}),(0,s.jsx)(p,{variant:"ghost",size:"icon",onClick:()=>c(t),className:"text-gray-500 hover:text-red-500",children:(0,s.jsx)(v,{className:"h-4 w-4"})})]})},C=e=>{let{title:t,stats:a,availableStats:r,onStatTypeChange:n,onStatValueChange:d,onAddStat:i,onRemoveStat:o}=e;return(0,s.jsxs)(l.Zp,{className:"w-full",children:[(0,s.jsx)(l.aR,{children:(0,s.jsx)(l.ZB,{children:t})}),(0,s.jsxs)(l.Wu,{className:"space-y-4",children:[a.map((e,t)=>(0,s.jsx)(w,{index:t,statType:e.type,statValue:e.value,availableStats:r,onStatTypeChange:n,onStatValueChange:d,onRemove:o},t)),(0,s.jsxs)(p,{variant:"outline",onClick:i,className:"w-full",children:[(0,s.jsx)(y,{className:"h-4 w-4 mr-2"}),"Add Stat"]})]})]})},S=e=>{let{derivedStats:t,selectedClass:a}=e,n=(0,r.useMemo)(()=>{let e={};return t&&Object.entries(t).forEach(t=>{let[a,s]=t;0!==s&&(e[a]=s)}),e},[t]);return 0===Object.keys(n).length?(0,s.jsxs)(l.Zp,{className:"w-full",children:[(0,s.jsx)(l.aR,{children:(0,s.jsxs)(l.ZB,{children:[a," Raw Stat Differences"]})}),(0,s.jsx)(l.Wu,{children:(0,s.jsx)("div",{className:"text-center text-gray-500",children:"No stat differences between items"})})]}):(0,s.jsxs)(l.Zp,{className:"w-full",children:[(0,s.jsx)(l.aR,{children:(0,s.jsxs)(l.ZB,{children:[a," Raw Stat Differences"]})}),(0,s.jsx)(l.Wu,{children:(0,s.jsx)("div",{className:"space-y-2",children:Object.entries(n).map(e=>{let[t,a]=e;return(0,s.jsxs)("div",{className:"flex items-center justify-between p-2 hover:bg-gray-50",children:[(0,s.jsx)("span",{className:"font-medium",children:t}),(0,s.jsxs)("div",{className:"flex items-center ".concat(a>0?"text-green-600":a<0?"text-red-600":"text-gray-600"),children:[a>0?(0,s.jsx)(y,{className:"h-4 w-4 mr-1"}):a<0?(0,s.jsx)(g,{className:"h-4 w-4 mr-1"}):null,Math.abs(a).toFixed(2)]})]},t)})})})]})},k=()=>{let[e,t]=(0,r.useState)(""),[a,l]=(0,r.useState)([{type:"",value:""}]),[n,d]=(0,r.useState)([{type:"",value:""}]),[i,o]=(0,r.useState)([]);(0,r.useEffect)(()=>{(async()=>{try{let e=await fetch("/lotro-tools/data/lotro-stats.csv"),a=await e.text(),s=j().parse(a,{header:!0,skipEmptyLines:!0});o(s.data);let r=Object.keys(s.data[0]).slice(2);r.length>0&&t(r[0])}catch(e){console.error("Error loading stats data:",e)}})()},[]);let c=(0,r.useMemo)(()=>i.length?[...new Set(i.map(e=>e["Primary Stat"])),...new Set(i.map(e=>e["Derived Stat"]))]:[],[i]),u=(0,r.useMemo)(()=>i.length?Object.keys(i[0]).slice(2):[],[i]),m=(0,r.useMemo)(()=>{if(!i.length||!e)return{};let t={},s=[...new Set(i.map(e=>e["Derived Stat"]))];s.forEach(e=>{t[e]=0});let r=function(a,r){let l=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(s.includes(a)){t[a]+=l?-r:r;return}i.forEach(s=>{if(s["Primary Stat"]===a){let a=s["Derived Stat"],n=Number(s[e])||0;t[a]+=(l?-r:r)*n}})};return a.forEach(e=>{e.type&&""!==e.value&&r(e.type,Number(e.value),!0)}),n.forEach(e=>{e.type&&""!==e.value&&r(e.type,Number(e.value),!1)}),Object.fromEntries(Object.entries(t).filter(e=>{let[t,a]=e;return Math.abs(a)>.001}))},[i,e,a,n]);return(0,s.jsxs)("div",{className:"w-full space-y-6",children:[(0,s.jsx)(N,{selectedClass:e,classes:u,onClassChange:t}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,s.jsx)(C,{title:"Item 1",stats:a,availableStats:c,onStatTypeChange:(e,t)=>{let s=[...a];s[e].type=t,l(s)},onStatValueChange:(e,t)=>{let s=[...a];s[e].value=t,l(s)},onAddStat:()=>{l([...a,{type:"",value:""}])},onRemoveStat:e=>{l(a.filter((t,a)=>a!==e))}}),(0,s.jsx)(C,{title:"Item 2",stats:n,availableStats:c,onStatTypeChange:(e,t)=>{let a=[...n];a[e].type=t,d(a)},onStatValueChange:(e,t)=>{let a=[...n];a[e].value=t,d(a)},onAddStat:()=>{d([...n,{type:"",value:""}])},onRemoveStat:e=>{d(n.filter((t,a)=>a!==e))}}),(0,s.jsx)(S,{derivedStats:m,selectedClass:e})]})]})}},5007:(e,t,a)=>{"use strict";a.d(t,{Wu:()=>o,ZB:()=>i,Zp:()=>n,aR:()=>d});var s=a(5155),r=a(2115),l=a(9602);let n=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("rounded-xl border bg-card text-card-foreground shadow",a),...r})});n.displayName="Card";let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",a),...r})});d.displayName="CardHeader";let i=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("font-semibold leading-none tracking-tight",a),...r})});i.displayName="CardTitle",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",a),...r})}).displayName="CardDescription";let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",a),...r})});o.displayName="CardContent",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",a),...r})}).displayName="CardFooter"},3670:(e,t,a)=>{"use strict";a.d(t,{S:()=>i});var s=a(5155),r=a(2115),l=a(3628),n=a(8867),d=a(9602);let i=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.bL,{ref:t,className:(0,d.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",a),...r,children:(0,s.jsx)(l.C1,{className:(0,d.cn)("flex items-center justify-center text-current"),children:(0,s.jsx)(n.A,{className:"h-4 w-4"})})})});i.displayName=l.bL.displayName},2336:(e,t,a)=>{"use strict";a.d(t,{p:()=>n});var s=a(5155),r=a(2115),l=a(9602);let n=r.forwardRef((e,t)=>{let{className:a,type:r,...n}=e;return(0,s.jsx)("input",{type:r,className:(0,l.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...n})});n.displayName="Input"},745:(e,t,a)=>{"use strict";a.d(t,{bq:()=>m,eb:()=>x,gC:()=>h,l6:()=>c,yv:()=>u});var s=a(5155),r=a(2115),l=a(7419),n=a(1719),d=a(1902),i=a(8867),o=a(9602);let c=l.bL;l.YJ;let u=l.WT,m=r.forwardRef((e,t)=>{let{className:a,children:r,...d}=e;return(0,s.jsxs)(l.l9,{ref:t,className:(0,o.cn)("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...d,children:[r,(0,s.jsx)(l.In,{asChild:!0,children:(0,s.jsx)(n.A,{className:"h-4 w-4 opacity-50"})})]})});m.displayName=l.l9.displayName;let f=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.PP,{ref:t,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",a),...r,children:(0,s.jsx)(d.A,{className:"h-4 w-4"})})});f.displayName=l.PP.displayName;let p=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.wn,{ref:t,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",a),...r,children:(0,s.jsx)(n.A,{className:"h-4 w-4"})})});p.displayName=l.wn.displayName;let h=r.forwardRef((e,t)=>{let{className:a,children:r,position:n="popper",...d}=e;return(0,s.jsx)(l.ZL,{children:(0,s.jsxs)(l.UC,{ref:t,className:(0,o.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:n,...d,children:[(0,s.jsx)(f,{}),(0,s.jsx)(l.LM,{className:(0,o.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,s.jsx)(p,{})]})})});h.displayName=l.UC.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.JU,{ref:t,className:(0,o.cn)("px-2 py-1.5 text-sm font-semibold",a),...r})}).displayName=l.JU.displayName;let x=r.forwardRef((e,t)=>{let{className:a,children:r,...n}=e;return(0,s.jsxs)(l.q7,{ref:t,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...n,children:[(0,s.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(l.VF,{children:(0,s.jsx)(i.A,{className:"h-4 w-4"})})}),(0,s.jsx)(l.p4,{children:r})]})});x.displayName=l.q7.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.wv,{ref:t,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",a),...r})}).displayName=l.wv.displayName},9602:(e,t,a)=>{"use strict";a.d(t,{cn:()=>l});var s=a(3463),r=a(9795);function l(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.QP)((0,s.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[773,441,517,358],()=>t(7133)),_N_E=e.O()}]);