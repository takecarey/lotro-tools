(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[685],{3453:(e,a,s)=>{Promise.resolve().then(s.bind(s,4031))},4031:(e,a,s)=>{"use strict";s.d(a,{default:()=>p});var r=s(5155),t=s(2115),l=s(5007),d=s(3670),i=s(2336),n=s(745),c=s(9159),o=s.n(c);let m=e=>{let{className:a,checked:s,onChange:t}=e;return(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(d.S,{id:a,checked:s,onCheckedChange:t}),(0,r.jsx)("label",{htmlFor:a,className:"text-sm font-medium",children:a})]})};m.displayName="ClassToggle";let u=e=>{let{className:a,onDragStart:s,onDragOver:t,onDragEnd:l}=e;return(0,r.jsxs)("th",{className:"p-2 border text-center cursor-move relative group",draggable:!0,onDragStart:s,onDragOver:t,onDragEnd:l,children:[(0,r.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center w-4",children:[(0,r.jsxs)("div",{className:"flex gap-0.5 mb-0.5",children:[(0,r.jsx)("div",{className:"w-1 h-1 bg-gray-400 rounded-full"}),(0,r.jsx)("div",{className:"w-1 h-1 bg-gray-400 rounded-full"})]}),(0,r.jsxs)("div",{className:"flex gap-0.5",children:[(0,r.jsx)("div",{className:"w-1 h-1 bg-gray-400 rounded-full"}),(0,r.jsx)("div",{className:"w-1 h-1 bg-gray-400 rounded-full"})]})]}),a]}),(0,r.jsx)("div",{className:"absolute inset-0 border-2 border-transparent group-hover:border-blue-200 transition-colors duration-200"})]})};u.displayName="TableHeader";let f=e=>{let{value:a,onChange:s,options:t}=e;return(0,r.jsx)("div",{className:"w-64",children:(0,r.jsxs)(n.l6,{value:a,onValueChange:s,children:[(0,r.jsx)(n.bq,{children:(0,r.jsx)(n.yv,{placeholder:"Select primary stat"})}),(0,r.jsx)(n.gC,{children:t.map(e=>(0,r.jsx)(n.eb,{value:e,children:e},e))})]})})};f.displayName="StatSelector";let p=()=>{let[e,a]=(0,t.useState)([]),[s,n]=(0,t.useState)({}),[c,p]=(0,t.useState)(""),[x,h]=(0,t.useState)(""),[g,N]=(0,t.useState)([]),[y,b]=(0,t.useState)(null),j=(0,t.useMemo)(()=>[...new Set(e.map(e=>e["Primary Stat"]))],[e]),v=(0,t.useMemo)(()=>[...new Set(e.map(e=>e["Derived Stat"]))],[e]),w=(0,t.useCallback)(()=>{if(!c||!x)return[];let a=new Map,r=parseFloat(x);return v.map(t=>{let l="".concat(c,"-").concat(t),d=a.get(l);if(!d&&(d=e.find(e=>e["Primary Stat"]===c&&e["Derived Stat"]===t))&&a.set(l,d),!d)return null;let i={};return g.forEach(e=>{if(s[e]){let a=Number(d[e])||0;i[e]=(a*r).toFixed(2)}}),{derivedStat:t,values:i}}).filter(e=>null!==e)},[c,x,e,g,s,v]),C=(0,t.useMemo)(()=>w(),[w]);(0,t.useEffect)(()=>{(async()=>{try{let e=await fetch("/lotro-tools/data/lotro-stats.csv"),s=await e.text(),r=o().parse(s,{header:!0,dynamicTyping:!0,skipEmptyLines:!0}).data,t=Object.keys(r[0]).slice(2);a(r),N(t),n(t.reduce((e,a)=>({...e,[a]:!0}),{})),p(r[0]["Primary Stat"])}catch(e){console.error("Error reading file:",e)}})()},[]);let S=(0,t.useCallback)(e=>{b(e)},[]),k=(0,t.useCallback)((e,a)=>{e.preventDefault(),y&&y!==a&&N(e=>{let s=[...e],r=s.indexOf(y),t=s.indexOf(a);return -1===r||-1===t?e:(s.splice(r,1),s.splice(t,0,y),s)})},[y]);return(0,r.jsx)("div",{className:"w-full min-w-0 flex",children:(0,r.jsxs)(l.Zp,{className:"w-full",children:[(0,r.jsx)(l.aR,{children:(0,r.jsx)(l.ZB,{children:"LOTRO Stat Derivatives Calculator"})}),(0,r.jsx)(l.Wu,{children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 p-2",children:[(0,r.jsx)(d.S,{id:"toggle-all",checked:Object.values(s).every(Boolean),onCheckedChange:e=>{"boolean"==typeof e&&n(g.reduce((a,s)=>({...a,[s]:e}),{}))}}),(0,r.jsx)("label",{htmlFor:"toggle-all",className:"text-sm font-medium",children:"Toggle All Classes"})]}),(0,r.jsx)("div",{className:"flex flex-wrap gap-4 p-4 bg-gray-100 rounded-lg",children:g.map(e=>(0,r.jsx)(m,{className:e,checked:s[e],onChange:()=>n(a=>({...a,[e]:!a[e]}))},e))})]}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,r.jsx)(f,{value:c,onChange:p,options:j}),(0,r.jsx)(i.p,{type:"number",placeholder:"Enter stat value",value:x,onChange:e=>h(e.target.value),className:"w-32"})]}),(0,r.jsx)("div",{className:"w-full overflow-x-auto rounded-lg",children:(0,r.jsx)("div",{className:"min-w-full inline-block align-middle",children:(0,r.jsx)("div",{className:"overflow-hidden",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"bg-gray-100",children:[(0,r.jsx)("th",{className:"p-2 border text-left sticky left-0 bg-gray-100 z-10",children:"Derived Stat"}),g.map(e=>s[e]&&(0,r.jsx)(u,{className:e,onDragStart:()=>S(e),onDragOver:a=>k(a,e),onDragEnd:()=>b(null)},e))]})}),(0,r.jsx)("tbody",{className:"divide-y divide-gray-200",children:C.map(e=>{let{derivedStat:a,values:t}=e;return(0,r.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,r.jsx)("td",{className:"p-2 border font-medium sticky left-0 bg-white z-10",children:a}),g.map(e=>s[e]&&(0,r.jsx)("td",{className:"p-2 border text-center whitespace-nowrap",onDragOver:a=>k(a,e),children:t[e]},e))]},a)})})]})})})})]})})]})})}},5007:(e,a,s)=>{"use strict";s.d(a,{Wu:()=>c,ZB:()=>n,Zp:()=>d,aR:()=>i});var r=s(5155),t=s(2115),l=s(9602);let d=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)("div",{ref:a,className:(0,l.cn)("rounded-xl border bg-card text-card-foreground shadow",s),...t})});d.displayName="Card";let i=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)("div",{ref:a,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",s),...t})});i.displayName="CardHeader";let n=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)("div",{ref:a,className:(0,l.cn)("font-semibold leading-none tracking-tight",s),...t})});n.displayName="CardTitle",t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)("div",{ref:a,className:(0,l.cn)("text-sm text-muted-foreground",s),...t})}).displayName="CardDescription";let c=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)("div",{ref:a,className:(0,l.cn)("p-6 pt-0",s),...t})});c.displayName="CardContent",t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)("div",{ref:a,className:(0,l.cn)("flex items-center p-6 pt-0",s),...t})}).displayName="CardFooter"},3670:(e,a,s)=>{"use strict";s.d(a,{S:()=>n});var r=s(5155),t=s(2115),l=s(3628),d=s(8867),i=s(9602);let n=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)(l.bL,{ref:a,className:(0,i.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",s),...t,children:(0,r.jsx)(l.C1,{className:(0,i.cn)("flex items-center justify-center text-current"),children:(0,r.jsx)(d.A,{className:"h-4 w-4"})})})});n.displayName=l.bL.displayName},2336:(e,a,s)=>{"use strict";s.d(a,{p:()=>d});var r=s(5155),t=s(2115),l=s(9602);let d=t.forwardRef((e,a)=>{let{className:s,type:t,...d}=e;return(0,r.jsx)("input",{type:t,className:(0,l.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:a,...d})});d.displayName="Input"},745:(e,a,s)=>{"use strict";s.d(a,{bq:()=>u,eb:()=>h,gC:()=>x,l6:()=>o,yv:()=>m});var r=s(5155),t=s(2115),l=s(7419),d=s(1719),i=s(1902),n=s(8867),c=s(9602);let o=l.bL;l.YJ;let m=l.WT,u=t.forwardRef((e,a)=>{let{className:s,children:t,...i}=e;return(0,r.jsxs)(l.l9,{ref:a,className:(0,c.cn)("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...i,children:[t,(0,r.jsx)(l.In,{asChild:!0,children:(0,r.jsx)(d.A,{className:"h-4 w-4 opacity-50"})})]})});u.displayName=l.l9.displayName;let f=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)(l.PP,{ref:a,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",s),...t,children:(0,r.jsx)(i.A,{className:"h-4 w-4"})})});f.displayName=l.PP.displayName;let p=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)(l.wn,{ref:a,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",s),...t,children:(0,r.jsx)(d.A,{className:"h-4 w-4"})})});p.displayName=l.wn.displayName;let x=t.forwardRef((e,a)=>{let{className:s,children:t,position:d="popper",...i}=e;return(0,r.jsx)(l.ZL,{children:(0,r.jsxs)(l.UC,{ref:a,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===d&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:d,...i,children:[(0,r.jsx)(f,{}),(0,r.jsx)(l.LM,{className:(0,c.cn)("p-1","popper"===d&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),(0,r.jsx)(p,{})]})})});x.displayName=l.UC.displayName,t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)(l.JU,{ref:a,className:(0,c.cn)("px-2 py-1.5 text-sm font-semibold",s),...t})}).displayName=l.JU.displayName;let h=t.forwardRef((e,a)=>{let{className:s,children:t,...d}=e;return(0,r.jsxs)(l.q7,{ref:a,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...d,children:[(0,r.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(l.VF,{children:(0,r.jsx)(n.A,{className:"h-4 w-4"})})}),(0,r.jsx)(l.p4,{children:t})]})});h.displayName=l.q7.displayName,t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)(l.wv,{ref:a,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",s),...t})}).displayName=l.wv.displayName},9602:(e,a,s)=>{"use strict";s.d(a,{cn:()=>l});var r=s(3463),t=s(9795);function l(){for(var e=arguments.length,a=Array(e),s=0;s<e;s++)a[s]=arguments[s];return(0,t.QP)((0,r.$)(a))}}},e=>{var a=a=>e(e.s=a);e.O(0,[773,441,517,358],()=>a(3453)),_N_E=e.O()}]);